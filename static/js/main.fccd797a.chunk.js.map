{"version":3,"sources":["components/Searchbar/Searchbar.styles.jsx","components/Searchbar/Searchbar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","service/api.js","App.js","index.js"],"names":["Header","styled","header","Form","form","Input","input","Button","button","Label","span","Searchbar","onSubmit","e","preventDefault","target","elements","imageName","value","type","name","autoComplete","autoFocus","placeholder","prototype","PropTypes","func","isRequired","ImageGalleryItem","webformatURL","tags","className","src","alt","ImageGallery","images","map","img","id","onLoadMore","onClick","axios","defaults","baseURL","getImages","searchQuery","page","get","then","data","hits","App","state","status","setState","prevState","handleFormSubmit","_","a","this","window","scrollTo","top","document","documentElement","scrollHeight","behavior","length","Component","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.fccd797a.chunk.js","sourcesContent":["import styled from '@emotion/styled';\r\n\r\nexport const Header = styled.header`\r\n  top: 0;\r\n  left: 0;\r\n  position: sticky;\r\n  z-index: 1100;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  min-height: 64px;\r\n  padding-right: 24px;\r\n  padding-left: 24px;\r\n  padding-top: 12px;\r\n  padding-bottom: 12px;\r\n  color: #fff;\r\n  background-color: #3f51b5;\r\n  box-shadow: 0px 2px 4px -1px rgba(0, 0, 0, 0.2),\r\n    0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12);\r\n`\r\n\r\nexport const Form = styled.form`\r\n  display: flex;\r\n  align-items: center;\r\n  width: 100%;\r\n  max-width: 600px;\r\n  background-color: #fff;\r\n  border-radius: 3px;\r\n  overflow: hidden;\r\n`\r\nexport const Input = styled.input`\r\n  display: inline-block;\r\n  width: 100%;\r\n  font: inherit;\r\n  font-size: 20px;\r\n  border: none;\r\n  outline: none;\r\n  padding-left: 4px;\r\n  padding-right: 4px;\r\n\r\n  &::placeholder {\r\n    font: inherit;\r\n    font-size: 18px;\r\n  }\r\n`\r\nexport const Button = styled.button`\r\n  display: inline-block;\r\n  width: 48px;\r\n  height: 48px;\r\n  border: 0;\r\n  background-image: url('https://image.flaticon.com/icons/svg/149/149852.svg');\r\n  background-size: 40%;\r\n  background-repeat: no-repeat;\r\n  background-position: center;\r\n  opacity: 0.6;\r\n  transition: opacity 250ms cubic-bezier(0.4, 0, 0.2, 1);\r\n  cursor: pointer;\r\n  outline: none;\r\n\r\n  &:hover {\r\n    opacity: 1;\r\n  }\r\n`\r\n\r\nexport const Label = styled.span`\r\n  position: absolute;\r\n  width: 1px;\r\n  height: 1px;\r\n  padding: 0;\r\n  overflow: hidden;\r\n  clip: rect(0, 0, 0, 0);\r\n  white-space: nowrap;\r\n  clip-path: inset(50%);\r\n  border: 0;\r\n`\r\n","import PropTypes from 'prop-types';\r\nimport { Header, Form, Input, Button, Label } from './Searchbar.styles.jsx';\r\n\r\nexport const Searchbar = ({ onSubmit }) => {\r\n  const handleSearch = e => {\r\n    e.preventDefault();\r\n\r\n    onSubmit(e.target.elements.imageName.value);\r\n  };\r\n\r\n  return (\r\n    <Header>\r\n      <Form onSubmit={handleSearch}>\r\n        <Button type=\"submit\">\r\n          <Label>Search</Label>\r\n        </Button>\r\n\r\n        <Input\r\n          name=\"imageName\"\r\n          type=\"text\"\r\n          autoComplete=\"off\"\r\n          autoFocus\r\n          placeholder=\"Search images and photos\"\r\n        />\r\n      </Form>\r\n    </Header>\r\n  );\r\n};\r\n\r\nSearchbar.prototype = {\r\n  onSubmit: PropTypes.func.isRequired,\r\n}\r\n","// import loading from '../../images/loading.jpg';\r\nexport const ImageGalleryItem = ({ webformatURL, tags }) => {\r\n  return (\r\n    <li className=\"ImageGalleryItem\">\r\n      <img src={webformatURL} alt={tags} className=\"ImageGalleryItem-image\" />\r\n    </li>\r\n  );\r\n};\r\n","import { ImageGalleryItem } from \"../ImageGalleryItem/ImageGalleryItem\";\r\nimport './ImageGallery.css';\r\n\r\nexport const ImageGallery = ({ images }) => {\r\n  return (\r\n    <ul className=\"ImageGallery\">\r\n      {images.map(img =>\r\n        <ImageGalleryItem\r\n          key={img.id}\r\n          webformatURL={img.webformatURL}\r\n          tags={img.tags}\r\n        />)}\r\n    </ul>\r\n  );\r\n};","import './Button.css';\r\n\r\nexport const Button = ({ onLoadMore }) => {\r\n  return <button onClick={onLoadMore} type=\"button\" className=\"Button\">Load More</button>\r\n}\r\n\r\n// window.scrollTo({\r\n//   top: document.documentElement.scrollHeight,\r\n//   behavior: 'smooth',\r\n// });","import axios from 'axios';\r\nconst API_KEY = \"21149088-9f5924478b20a01769fc809e0\";\r\n\r\naxios.defaults.baseURL = \"https://pixabay.com/api/\";\r\n\r\nfunction getImages(searchQuery, page) {\r\n   return axios.get(`?q=${searchQuery}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`)\r\n    .then(({ data }) =>  data.hits);\r\n}\r\n\r\nexport default getImages;\r\n","import { Component } from 'react';\nimport { Searchbar } from './components/Searchbar/Searchbar';\nimport { ImageGallery } from './components/ImageGallery/ImageGallery';\nimport { Button } from './components/Button/Button';\nimport getImages from './service/api';\n\nimport './App.css';\n\nexport class App extends Component {\n  state = {\n    searchQuery: null,\n    images: [],\n    page: 1,\n    status: \"idel\",\n  }\n\n  async componentDidUpdate(_, prevState) {\n    const { searchQuery, page, status } = this.state;\n    if (prevState.searchQuery !== searchQuery || prevState.page !== page) {\n      this.setState({ status: \"pending\" });\n      const images = await getImages(searchQuery, page)\n\n      this.setState(prevState => ({\n        images: [...prevState.images, ...images],\n        status: \"resolve\",\n      }))\n    };\n\n    if (status === \"resolve\") {\n      // setTimeout(() => {\n        window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: \"smooth\",\n        });\n      // }, 500);\n    }\n  };\n\n  onLoadMore = () => {\n    this.setState((prevState) => ({\n      page: prevState.page + 1\n    }));\n  }\n\n  handleFormSubmit = (searchQuery) => {\n    if (this.state.searchQuery === searchQuery) {\n      return;\n    };\n\n    this.setState({ images: [], page: 1});\n    this.setState({ searchQuery });\n  }\n\n  render() {\n    const { images, status } = this.state;\n\n    if (status === \"idel\") {\n      return (\n        <div className='App'>\n          <Searchbar onSubmit={ this.handleFormSubmit } />\n        </div>\n      )\n    }\n\n    if (status === \"pending\") {\n      return (\n        <div className='App'>\n          <Searchbar onSubmit={this.handleFormSubmit} />\n          {images.length > 0 &&\n            <ImageGallery images={ images }/>\n          }\n          {/* <div>Loading...</div> */}\n          <Button onLoadMore={ this.onLoadMore }/>\n        </div>\n      )\n    }\n\n    if (status === \"resolve\") {\n      return (\n        <div className='App'>\n          <Searchbar onSubmit={ this.handleFormSubmit } />\n          {images.length > 0 &&\n            <ImageGallery images={ images }/>\n          }\n          <Button onLoadMore={ this.onLoadMore }/>\n        </div>\n      )\n    }\n  };\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}